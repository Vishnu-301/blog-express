<%- include('./partials/header.ejs') %>
    <%- include('./partials/styles.ejs') %>

        <div class="main-content">
            <div class="page-title">
                <h1>Create a New Post</h1>
                <p>Share your thoughts with the Flourish community</p>
            </div>

            <div class="form-container">
                <form id="createPostForm" method="POST" action="/posts/create">
                    <div class="form-group">
                        <label for="title">Post Title</label>
                        <input type="text" id="title" name="title" placeholder="Enter an engaging title for your post"
                            required maxlength="200">
                    </div>

                    <div class="form-group">
                        <label for="category">Category</label>
                        <select id="category" name="category" required>
                            <option value="">-- Select a category --</option>
                            <option value="web-dev">Web Development</option>
                            <option value="design">Design</option>
                            <option value="backend">Backend</option>
                            <option value="frontend">Frontend</option>
                            <option value="mobile">Mobile</option>
                            <option value="devops">DevOps</option>
                            <option value="tutorial">Tutorial</option>
                            <option value="tips">Tips & Tricks</option>
                            <option value="news">News</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="excerpt">Excerpt</label>
                        <input type="text" id="excerpt" name="excerpt"
                            placeholder="Brief summary of your post (appears in listings)" required maxlength="250">
                    </div>

                    <div class="form-group">
                        <label for="content">Content</label>
                        <textarea id="content" name="content"
                            placeholder="Write your post content here... You can use markdown formatting."
                            required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="tags">Tags</label>
                        <input type="text" id="tags" name="tags"
                            placeholder="Enter tags separated by commas (e.g., javascript, tutorial, beginner)"
                            maxlength="500">
                    </div>

                    <div class="form-group">
                        <label for="featured_image">Featured Image URL</label>
                        <input type="url" id="featured_image" name="featured_image"
                            placeholder="https://example.com/image.jpg">
                    </div>

                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="published" name="published" value="true">
                            Publish immediately
                        </label>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-submit">Publish Post</button>
                        <a href="/posts" class="btn-cancel">Cancel</a>
                    </div>
                </form>
            </div>
        </div>

        <script>
            document.getElementById('createPostForm').addEventListener('submit', function (e) {
                e.preventDefault();

                const title = document.getElementById('title').value;
                const category = document.getElementById('category').value;
                const excerpt = document.getElementById('excerpt').value;
                const content = document.getElementById('content').value;
                const tags = document.getElementById('tags').value;
                const published = document.getElementById('published').checked;

                // Log form data (you can replace this with actual API call)
                console.log({
                    title,
                    category,
                    excerpt,
                    content,
                    tags: tags.split(',').map(tag => tag.trim()),
                    published
                });

                // Show success message
                alert('Post created successfully!');
                // Optionally redirect to posts page
                // window.location.href = '/posts';
            });
        </script>

        <%- include('./partials/footer.ejs') %>